//Javascript file

$(document).ready(function() {

var wins = 0; //to store the number of games won
var losses = 0; //to store the number of games lost
//var playerTotalPoints = 0; //total points of the player
var randomNumberToMatch = 0;
var redCrystalValue = 0;
var blueCrystalValue = 0;
var yellowCrystalValue = 0;
var greenCrystalValue = 0;

//Principal function that will start the game
function startGame() {

var playerTotalPoints = 0; //total points of the player

//random number generated by the computer between 19 and 120
var randomNumberToMatch = Math.floor(Math.random()*101+19);
    
//random number for the value of the red crystal between 1 and 12
var redCrystalValue = Math.floor(Math.random()*12+1); 
console.log("redValue: " + redCrystalValue);

//random number for the value of the blue crystal between 1 and 12
var blueCrystalValue = Math.floor(Math.random()*12+1); 
console.log("blueValue: " + blueCrystalValue);

//random number for the value of the yellow crystal between 1 and 12
var yellowCrystalValue = Math.floor(Math.random()*12+1); 
console.log("yellowValue: " + yellowCrystalValue);

//random number for the value of the green crystal between 1 and 12
var greenCrystalValue = Math.floor(Math.random()*12+1); 
console.log("greenValue: " + greenCrystalValue);

//display the number randomly choosed by the computer for the player to match
$("#showRandomNumber").html(randomNumberToMatch);

//Display the total points of the player
$("#showScore").html(playerTotalPoints);

//var redButton = false;
$("#redCrystal").click(function() { //When the player click on the red crystal
        //var redButton = true;
        console.log("red value before add: " + redCrystalValue);
        playerTotalPoints += redCrystalValue; //the value of the crystal is added to the total points 
        console.log(playerTotalPoints);
        $("#showScore").html(playerTotalPoints);//and displayed in the total score section
        checkWinLoss(); //we call the check function to see if there is a win or loss
});

//var blueButton = false;
$("#blueCrystal").click(function() { //When the player click on the blue crystal
        //var blueButton = true;
        console.log("blue value before add: " + blueCrystalValue);
        playerTotalPoints += blueCrystalValue; //the value of the crystal is added to the total points
        console.log(playerTotalPoints);
        $("#showScore").html(playerTotalPoints); //and displayed in the total score section
        checkWinLoss(); //we call the check function to see if there is a win or loss
});

//var yellowButton = false;
$("#yellowCrystal").click(function() { //When the player click on the yellow crystal
        //var yellowButton = true;
        console.log("yellow value before add: " + yellowCrystalValue);
        playerTotalPoints += yellowCrystalValue; //the value of the crystal is added to the total points
        console.log(playerTotalPoints);
        $("#showScore").html(playerTotalPoints); //and displayed in the total score section
        checkWinLoss(); //we call the check function to see if there is a win or loss
});

//var greenButton = false;
$("#greenCrystal").click(function() { //When the player click on the green crystal
        //var greenButton = true;
        console.log("green value before add: " + greenCrystalValue);
        playerTotalPoints += greenCrystalValue; //the value of the crystal is added to the total points
        console.log(playerTotalPoints);
        $("#showScore").html(playerTotalPoints); //and displayed in the total score section
        checkWinLoss(); //we call the check function to see if there is a win or loss
});

//Function to check for wins or losses
function checkWinLoss(){
if(playerTotalPoints == randomNumberToMatch){ //If the player matched the random number
    $("#showResult").html("You won!!"); //he won
    wins++;                             //increment the wins counter
    console.log("wins: " + wins);
    endOfGame();                        //call end of game
}
else if (playerTotalPoints > randomNumberToMatch){ //If the player exceed the random number
    $("#showResult").html("You lost..."); // he lost
    losses++;                             //increment the losses counter
    console.log("losses: " + losses);
    endOfGame();                           //call end of game
}
};


//Function called at the end of the game
//Update the number of wins or losses and restart the game
function endOfGame() {
    $("#showWins").html(wins);
    $("#showLosses").html(losses);
    console.log("player points before start: " + playerTotalPoints);
    playerTotalPoints = 0;
    
    startGame();
    console.log("player points after start: " + playerTotalPoints);
}

}

//*******/MAIN FUNCTION/**********/to start the game
startGame();

});





